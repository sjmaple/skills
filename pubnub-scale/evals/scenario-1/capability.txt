High-concurrency chat sharding and presence